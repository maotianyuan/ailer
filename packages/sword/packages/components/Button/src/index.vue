<template>
  <button :class="['base-btn', `btn-${type || 'default'} `, size || 'medium', plain && 'is-plain']" v-debounce:500.immediate="onClick">
    <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div>
 <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div> <div class="base-btn-icon">
      <svg width="36px" height="36px" viewBox="0 0 36 36" class="base-btn-loading">
        <circle class="circle-loading" r="15" cx="18" cy="18" />
      </svg>
    </div>
    <div class="base-btn-text"><slot></slot></div>
  </button>
</template>

<script setup lang="ts">
const $prefix = 'so';

defineOptions({
  name: `${$prefix}-button`,
});

interface Emit {
  (event: 'click'): void
}
interface Props {
  type?: 'primary' | 'default' | 'warning'
  size?: 'large' | 'medium' | 'small'
  plain?: boolean
}
defineProps<Props>()
const emit = defineEmits<Emit>()

function onClick() {
  emit('click')
}
</script>

<style scoped lang="scss">
// .base-btn {
//   display: inline-block;
//   text-align: center;
//   color: #fff;
//   cursor: pointer;
//   transition: all 0.3s ease;
//   border: none;
//   display: flex;
//   align-items: center;
//   justify-content: center;
//   outline: none;
//   &.btn-primary {
//     border: 1px solid var(--color-primary);
//     background-color: var(--color-primary);
//     &:hover,
//     &:active {
//       background-color: var(--color-primary-hover);
//     }
//   }
//   &.btn-default {
//     border: 1px solid var(--color-primary);
//     color: var(--color-primary);
//     background-color: transparent;
//     &:hover,
//     &:active {
//       opacity: 0.7;
//     }
//   }

//   &.btn-warning {
//     border: 1px solid var(--color-warning);
//     background-color: var(--color-warning);
//     &:hover,
//     &:active {
//       background-color: var(--color-warning-hover);
//     }
//   }

//   &.btn-warning.is-plain {
//     border: 1px solid var(--color-warning);
//     color: var(--color-warning);
//     background-color: transparent;
//     &:hover,
//     &:active {
//       opacity: 0.7;
//     }
//   }
//   &.small {
//     font-size: 14px;
//     border-radius: 22px;
//     padding: 0 6px;
//     height: 36px;
//     line-height: 36px;
//     min-width: 100px;
//   }
//   &.medium {
//     font-size: 16px;
//     border-radius: 22px;
//     padding: 0 20px;
//     height: 40px;
//     line-height: 40px;
//     min-width: 120px;
//   }
//   .loading {
//     width: 100px;
//     height: 100px;
//     animation: rotate 1s linear infinite;
//   }
//   .base-btn-icon {
//     height: 100%;
//     display: none;
//   }
//   &.medium {
//     .base-btn-icon {
//       transform: scale(0.8);
//     }
//   }
// }

.base-btn-loading {
  transform: rotate(-90deg);
  border-radius: 50%;
  user-select: none;
  transform: scale(0.6);
  display: flex;
  height: 100%;
  .circle-loading {
    stroke-dasharray: 125.6px;
    animation: move linear 1s infinite;
    transform-origin: center;
    stroke-dashoffset: 50px;
    fill: none;
    stroke: rgb(255, 255, 255);
    stroke-width: 3px;
    user-select: none;
  }
  @keyframes move {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
}
</style>
